%% BioMed_Central_Tex_Template_v1.06
%%  %
%  bmc_article.tex    ver: 1.06 %
%   %

%%IMPORTANT: do not delete the first line of this template
%%It must be present to enable the BMC Submission system to
%%recognise this template!!


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% %%
%%  LaTeX template for BioMed Central  %%
%% journal article submissions %%
%% %%
%% <14 August 2007>    %%
%% %%
%% %%
%% Uses:   %%
%% cite.sty, url.sty, bmc_article.cls  %%
%% ifthen.sty. multicol.sty   %%
%% %%
%% %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% %%    
%% For instructions on how to fill out this Tex template   %%
%% document please refer to Readme.pdf and the instructions for    %%
%% authors page on the biomed central website  %%
%% http://www.biomedcentral.com/info/authors/  %%
%% %%
%% Please do not use \input{...} to include other tex files.   %%
%% Submit your LaTeX manuscript as one .tex document.  %%
%% %%
%% All additional figures and files should be attached %%
%% separately and not embedded in the \TeX\ document itself.   %%
%% %%
%% BioMed Central currently use the MikTex distribution of %%
%% TeX for Windows) of TeX and LaTeX.  This is available from  %%
%% http://www.miktex.org   %%
%% %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% vim: spelllang=en
\documentclass[10pt]{bmc_article}    

% Load packages
\usepackage{cite} % Make references as [1-4], not [1,2,3,4]
\usepackage{url}  % Formatting web addresses  
\usepackage{ifthen}  % Conditional
\usepackage{multicol}   %Columns
\usepackage[utf8]{inputenc} %unicode support
%\usepackage[applemac]{inputenc} %applemac support if unicode package fails
%\usepackage[latin1]{inputenc} %UNIX support if unicode package fails
\urlstyle{rm}

%\usepackage{times}
\usepackage[T1]{fontenc}
\usepackage{color}
\usepackage{graphicx} 
\usepackage{rotating}
\usepackage[british]{babel}
%\usepackage[usename,dvipsnames]{xcolor}
%\usepackage[]{hyperref}
%\usepackage{varioref}
%\hypersetup{colorlinks=true,urlcolor=black, linkcolor=black,
%citecolor=black,pdftitle=Expressing time-dependent relations through temporal qualifications,pdfauthor=Niels Grewe et al,unicode=true}
%\PrerenderUnicode{Ã¯}
\usepackage[babel]{csquotes}
%\bibliographystyle{plainnat}
\usepackage{pgf,tikz}
\usepackage{todonotes}
\usepackage{bussproofs}
\usepackage{listings}
\usetikzlibrary{positioning,shapes,shadows,arrows,backgrounds}
\usepackage{covington,booktabs}
\usepackage{multirow}
%\usepackage[style=numeric,citestyle=numeric-comp,backref=false,hyperref=false]{biblatex}
%\usepackage[hyperref=true]{biblatex}
%\usepackage{natbib}
\usepackage{amsmath}
\usepackage{enumerate}
%
%\MakeOuterQuote{"}
%\MakeAutoQuote{„}{''}
%\usepackage{listings}

%\firstpage{0}
%\lastpage{0}
%\volume{0}
%\pubyear{0000}

% Shorthands for
%  Instance level relations:
\newcommand{\mirel}[1]{\ensuremath{\mathrm{\mathbf{#1}}}}
%  Class expressions:
\newcommand{\mclass}[1]{\ensuremath{\mathit{#1}}}
\newcommand{\minst}[1]{\ensuremath{\mathbf{#1}}}
%  arity-indexed relations:
\newcommand{\mrel}[2]{\mirel{#1^#2}}
%  binary relations:
%\newcommand{\mrelb}[1]{\mrel{#1}{2}}
\newcommand{\mrelb}[1]{\mrel{#1}{b}}
%  ternary relations:
%\newcommand{\mrelt}[1]{\mrel{#1}{3}}
\newcommand{\mrelt}[1]{\mrel{#1}{t}}
%  DL interpretation function
\newcommand{\dlint}[1]{\ensuremath{#1^{\mathcal{I}}}}
%  ordered pairs:
\newcommand{\pair}[2]{\ensuremath{\langle #1,#2\rangle}}
% TQCs:
\newcommand{\TQC}[1]{\ensuremath{\mclass{#1}^{TQ}}}
% different temporal strengths of relatedness
\newcommand{\mreltemp}[1]{\mrel{#1}{{Temp}}}
\newcommand{\mrelpg}[1]{\mrel{#1}{{PG}}}
\newcommand{\mrelps}[1]{\mrel{#1}{{PS}}}

 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    
%% %%
%%  If you wish to display your graphics for   %%
%%  your own use using includegraphic or   %%
%%  includegraphics, then comment out the  %%
%%  following two lines of code.   %%   
%%  NB: These line *must* be included when %%
%%  submitting to BMC. %%
%%  All figure files must be submitted as  %%
%%  separate graphics through the BMC  %%
%%  submission process, not included in the    %%
%%  submitted article. %%
%% %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 


\def\includegraphic{}
\def\includegraphics{}



\setlength{\topmargin}{0.0cm}
\setlength{\textheight}{21.5cm}
\setlength{\oddsidemargin}{0cm}
\setlength{\textwidth}{16.5cm}
\setlength{\columnsep}{0.6cm}

\newboolean{publ}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  %%
%% You may change the following style settings  %%
%% Should you wish to format your article   %%
%% in a publication style for printing out and  %%
%% sharing with colleagues, but ensure that %%
%% before submitting to BMC that the style is   %%
%% returned to the Review style setting.    %%
%%  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 

%Review style settings
%\newenvironment{bmcformat}{\begin{raggedright}\baselineskip20pt\sloppy\setboolean{publ}{false}}{\end{raggedright}\baselineskip20pt\sloppy}

%Publication style settings
%\newenvironment{bmcformat}{\fussy\setboolean{publ}{true}}{\fussy}

%New style setting
\newenvironment{bmcformat}{\baselineskip20pt\sloppy\setboolean{publ}{false}}{\baselineskip20pt\sloppy}

% Begin ...
\begin{document}
\begin{bmcformat}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  %%
%% Enter the title of your article here %%
%%  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\lstset{
language=SQL, % Code langugage
basicstyle=\ttfamily,
columns=flexible,
deletekeywords = { some },
morekeywords = { BEGIN, END, GROUPS, CLASS, OBJECTPROPERTY, FAIL, REMOVE},
sensitive = true
}

\title{Patterns for representing time-dependent content in OWL~2 ontologies}

 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  %%
%% Enter the authors here   %%
%%  %%
%% Ensure \and is entered between all but   %%
%% the last two authors. This will be   %%
%% replaced by a comma in the final article %%
%%  %%
%% Ensure there are no trailing spaces at   %%
%% the ends of the lines    %% 
%%  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{Niels Grewe$^{1}$,%
  \email{Niels Grewe - niels.grewe@uni-rostock.de}
  Janna Hastings$^{2,3}$,%
  \email{Janna Hastings\correspondingauthor  - hastings@ebi.ac.uk}  
  Ludger Jansen$^{4}$,%
  \email{Ludger Jansen - ludger.jansen@uni-muenster.de}
  Chris Mungall$^{5}$,%
  \email{Chris Mungall - cjmungall@lbl.gov}  
  Fabian Neuhaus$^{6}$,%
  \email{Fabian Neuhaus - fneuhaus@ovgu.de}
  Alan Ruttenberg$^{7}$,%
  \email{Alan Ruttenberg - alan.ruttenberg@gmail.com}
  Stefan Schulz$^{8}$,%
  \email{Stefan Schulz - stefan.schulz@medunigraz.at}
  Barry Smith$^{7}$ -- %
  \email{Barry Smith - phismith@buffalo.edu} 
  (ALPHABETICAL ORDER)
}
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  %%
%% Enter the authors' addresses here    %%
%%  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\address{%
    \iid(1)Institute of Philosophy, University of Rostock, Germany\\
    \iid(2)Cheminformatics and Metabolism, European Bioinformatics Institute (EMBL-EBI), Cambridge, UK\\
    \iid(3)Department of Philosophy, University of Geneva, Switzerland\\
    \iid(4)Institute of Philosophy, University of M\"unster, Germany\\
    \iid(5)Genomics Division, Lawrence Berkeley National Laboratory, Berkeley, CA, USA\\
    \iid(6)Institute of Knowledge and Language Engineering, University of Magdeburg, Germany \\
    \iid(7)Institute for Health Informatics, State University of New York, Buffalo, NY, USA\\
    \iid(8)Institute for Medical Informatics, Statistics and Documentation, Medical University of Graz, Austria 
}%

\maketitle



\begin{abstract}

\todo[inline, size=\tiny]{Rewrite abstract at the end}
\textbf{Background:}
OWL is a popular ontology development language which is supported by a wide range of tools
such as editors and reasoners. It is increasingly being adopted by large scale biomedical
ontologies such as the Gene Ontology and ChEBI. A limitation of OWL is that it only allows
for the expression of binary relationships (object properties). In the biomedical domain,
much of the knowledge that is represented in ontologies is linked to time in some fashion.
For example, different developmental stages of an organism have different anatomical properties.
Representing this information accurately often requires the use of ternary relations (i.e. with an
additional parameter), not supported in OWL.

\textbf{Results:}
In this paper we present two patterns that address this limitation, \emph{viz.} TR 
(temporalized relations), which embeds temporalization into OWL object properties, 
and TQC (temporally qualified continuants), which assumes all continuant instances
to be referred to in the context of a time point or 
interval. 
A series of 23 modelling examples was created, each of which represented a different
type of modelling problems. Each of them was challenged by one formally expressed 
competency question. A comparison to a manually created reference standard yielded
16 of 23 concordances for TQC and 8 of 23 for TR.  

\textbf{Conclusions:}
We found the TQC approach more powerful for addressing modelling problems and
getting the correct entailments. TR offers a more compact representation but
does not allow for explicit time reference for A-Box entities. 
Interaction with user communities and scaling experiments will be necessary to
reach a decision about which should be the appropriate approach to be followed
for an OWL version of BFO. 


\textbf{Keywords: }biomedical ontology, time, temporal reasoning, OWL, BFO

\end{abstract}

\ifthenelse{\boolean{publ}}{\begin{multicols}{2}}{}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  %%
%% The Main Body begins here    %%
%%  %%
%% Please refer to the instructions for %%
%% authors on:  %%
%% http://www.biomedcentral.com/info/authors%%
%% and include the section headings %%
%% accordingly for your article type.   %%
%%  %%
%% See the Results and Discussion section   %%
%% for details on how to create sub-sections%%
%%  %%
%% use \cite{...} to cite references    %%
%%  \cite{koon} and %%
%%  \cite{oreg,khar,zvai,xjon,schn,pond}    %%
%%  \nocite{smith,marg,hunn,advi,koha,mouse}%%
%%  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Background}
\todo[inline, size=\tiny]{bfo-owl-time-introduction}
\vspace{6pt}
\input{bfo-owl-time-introduction}
%\todo[inline, size=\tiny]{bfo-owl-time-problem}
\vspace{6pt}
\input{bfo-owl-time-problem}

\section*{Methods}
%\todo[inline, size=\tiny]{bfo-owl-time-use-cases}
\vspace{6pt}
\input{bfo-owl-time-use-cases}

\section*{Proposed Design Patterns}
\subsection*{Temporalized Relations (TR)}
%\todo[inline, size=\tiny]{bfo-owl-time-temporalizedrelations}
\vspace{6pt}
\input{bfo-owl-time-temporalizedrelations}

\subsection*{Temporally Qualified Continuants (TQC)}
%\todo[inline, size=\tiny]{bfo-owl-time-temporallyqualcontinuants}
\vspace{6pt}
\input{bfo-owl-time-temporallyqualcontinuants}

\section*{Results}
%\todo[inline, size=\tiny]{bfo-owl-time-results}
\vspace{6pt}
\input{bfo-owl-time-results}
	
\section*{Discussion}
%\todo[inline, size=\tiny]{bfo-owl-time-discussion}
\vspace{6pt}
\input{bfo-owl-time-discussion}
	
\section*{Conclusions}
%\todo[inline, size=\tiny]{bfo-owl-time-discussion}
\vspace{6pt}
\input{bfo-owl-time-conclusions}

 

\bigskip

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Author's contributions in alphabetical order}

Niels Grewe produced the first formalization of the TQC approach and described the related work.
Chris Mungall participated in the discussion of the TR approach. 
Janna Hastings contributed to the foundations of the TQC approach and participated in the editing of the final version.
Ludger Jansen contributed to the TQC formalizations and the related work. 
Fabian Neuhaus refined the TQC approach. 
Alan Ruttenberg formulated the TR approach and implemented the TR version of BFO. 
Barry Smith is the main author of BFO 2 and contributed to discussions around TR and TQC. 
Stefan Schulz contributed to the first sketch of TQC, created the examples and competency questions, the OWL implementations for the TQR scenarios
and the examples, performed the experiments and edited the final version.
 
    

%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Acknowledgements}
  \ifthenelse{\boolean{publ}}{\small}{}
Research by NG, LJ and SS for this paper has been supported by the German
Science Foundation (DFG), grant JA1904/2-1, SCHU 2515/1-1 as part of the research project ``Good Ontology Design''.
JH is supported by the European Union under EU-OPENSCREEN. The authors would like to thank 
Melissa Haendel, David Osumi-Sutherland, Colin Batchelor and Veruska Zamborlini for helpful discussions.

 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  The Bibliography   %%
%% %%  
%%  Bmc_article.bst  will be used to   %%
%%  create a .BBL file for submission, which includes  %%
%%  XML structured for BMC.    %%
%%  After submission of the .TEX file, %%
%%  you will be prompted to submit your .BBL file. %%
%% %%
%% %%
%%  Note that the displayed Bibliography will not  %%
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.    %%
%% %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
{\ifthenelse{\boolean{publ}}{\footnotesize}{\small}
 \bibliographystyle{bmc_article}  % Style BST file
 \bibliography{bfo-owl-time} } % Bibliography file (usually '*.bib' )

%%%%%%%%%%%

\ifthenelse{\boolean{publ}}{\end{multicols}}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   %%
%% Figures   %%
%%   %%
%% NB: this is for captions and  %%
%% Titles. All graphics must be  %%
%% submitted separately and NOT  %%
%% included in the Tex document  %%
%%   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%
%% Do not use \listoffigures as most will included as separate files

\newpage

\section*{Figures}

 
 
\begin{figure}[h]
\centering
\includegraphics[width=120mm]{bfograph.png}
\caption{Classes and relations in BFO 2.0}
\label{fig:bfoclass}
\end{figure}

\newpage

\begin{figure}[h]
\centering
\includegraphics[width=120mm]{trgraph.png}
\caption{Permanent generic location as inclusion of histories. The object $a$ 
(depicted as a spatiotemporal ``worm'')is always included in some member of 
the class $B$, \emph{viz} $b_1$, $b_2$, $b_3$, $b_4$.}
\label{fig:trgraph}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   %%
%% Tables    %%
%%   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
%% Use of \listoftables is discouraged.
%%
\section*{Tables}

\todo[inline, size=\tiny]{Big table, encompassing all examples and competency questions.
The source of this table is an Excel spreadsheet, from which a PDF file was created}   


Table 1. Results \\

examples and competency questions for both TR and TQC approaches. For each example and modelling 
approach the satisfiability is given: Y = satisfiable and N = not satisfiable. The reasoning 
example can be inspected in the additional files. 

 
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   %%
%% Additional Files  %%
%%   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Additional Files}
  
  
\subsection*{BFO OWL with temporalized relations}
This file (bfo\_tr.owl) corresponds to ``BFO OWL Graz'' as released in July 2012. It includes temporalized 
relations such as ``has continuant part at all times'', ``inheres in at some time'' etc.

\subsection*{BFO OWL with temporally qualified continuants}
This file (bfo\_tqc.owl)corresponds does not include temporalized relations and strictly follows the relations
as provided by the BFO reference guide. All ternary relations are reduced to binary object properties involving temporally qualified continuants (TQCs).
For the handling of TQCs additional object properties were added, as described in this paper. 

\subsection*{examples for temporalized relations}
This file (bfo\_tr\_uc.owl)contains the examples as described in this paper. 
It imports bfo\_tr.owl.

\subsection*{examples for temporally qualified continuants}
This file (bfo\_tqc\_uc.owl)contains the examples as described in this paper. 
It imports bfo\_tqc.owl.


\end{bmcformat}
\end{document}






